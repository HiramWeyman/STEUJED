<h2>Solicitud de Ingreso</h2>
<br>

<div class="tableFixHead border-primary">
    <div clasa="row">
        <div class="col-sm-4">
          <div class="input-group">
            <input type="number" class="form-control sm" placeholder="Buscar por Matricula" [(ngModel)]="busca.matricula">
            <span class="input-group-btn">
              <button class="btn btn-primary sm" type="button" id="busca1"><i class="fa fa-search" aria-hidden="true"  (click)='buscar(busca.matricula,1)'></i></button>
            </span>
          </div><!-- /input-group -->
        </div>
    
        <div class="col-sm-8">

            <table class="table table-bordered">
                <thead>
                    <tr>
                      <th scope="col"></th>
                      <th scope="col"></th>
                      <th scope="col"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td> <input type="number" class="form-control sm" placeholder="Buscar por Matricula" [(ngModel)]="busca.matricula2"></td>
                        <td>
                            <select class="form-control sm" [(ngModel)]="busca.estatus">
                                <option value="1">--Seleccionar Estatus--</option>
                                <option value="ACEPTADA">ACEPTADA</option>
                                <option value="ATENDIDA">ATENDIDA</option>
                                <option value="PENDIENTE">PENDIENTE</option>
                                <option value="RECHAZADA">RECHAZADA</option>
                            </select>
                            
                        </td>
                        <td><button class="btn btn-primary sm" type="button" id="busca2"><i class="fa fa-search" aria-hidden="true" (click)='buscar(busca,2)'></i></button></td>
                    </tr>
                  </tbody>
            </table>
        </div>
      </div>
    <table>
      <thead>
        <tr>
            <th>ID</th>
            <th>Matricula</th>
            <th>Nombre</th>
            <th>No. Cuenta / Tarjeta</th>
            <th>Banco</th>
            <th>Teléfono</th>
            <th>Tipo</th>
            <th>Ingreso</th>
            <th>Modificación</th>
            <th>T. Cheque</th>
            <th>INE</th>
            <th>Recibo</th>
            <th>Estatus</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let revolvente of this.revolventes">
            <td>{{revolvente.pr_id}}</td>
            <td>{{revolvente.pr_matricula}}</td>
            <td>{{revolvente.pr_nombre}}</td>
            <td>{{revolvente.pre_tarjeta_cuenta}}</td>
            <td>{{revolvente.pre_banco}}</td>
            <td>{{revolvente.pr_telefono}}</td>
            <td>{{revolvente.pr_tipo}}</td>
            <td>{{revolvente.pr_ingreso}}</td>
            <td>{{revolvente.pr_modificacion}}</td>
            <td>
                <ng-container *ngIf="revolvente.pr_recibo != null">
                    <a href="{{revolvente.pr_recibo}}" target="_blank">
                        <button type="button" class="btn btn-primary btn-sm">
                        Ver Archivo
                        </button>
                    </a>
                </ng-container>
            </td>
            <td>
                <ng-container *ngIf="revolvente.pr_ine != null">
                    <a href="{{revolvente.pr_ine}}" target="_blank">
                        <button type="button" class="btn btn-primary btn-sm">
                        Ver Archivo
                        </button>
                    </a>
                </ng-container>
            </td>
            <td>
                <button type="button" class="btn btn-danger btn-sm" (click)='reporte(revolvente.pr_id,3);'>
                    Ver Solicitud
                    </button>
            </td>
            <td>
                <select class="form-control" (change)="update($event.target.value,revolvente.pr_id)">
                    <option [selected]="revolvente.pr_estatus=='ACEPTADA'" value="ACEPTADA">ACEPTADA</option>
                    <option [selected]="revolvente.pr_estatus=='ATENDIDA'" value="ATENDIDA">ATENDIDA</option>
                    <option [selected]="revolvente.pr_estatus=='PENDIENTE'" value="PENDIENTE">PENDIENTE</option>
                    <option [selected]="revolvente.pr_estatus=='RECHAZADA'" value="RECHAZADA">RECHAZADA</option>
                </select>
            </td>
        </tr>
      </tbody>
    </table>
</div>
